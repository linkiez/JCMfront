<div class="container">
  <p-messages></p-messages>
  <h2>Fornecedor</h2>
  <form
    id="form1"
    method="post"
    class="p-formgrid p-grid"
    (ngSubmit)="addOrUpdateFornecedor()"
  >
    <div class="p-field col-1">
      <label for="inputId">Código: </label>
      <input
        pInputText
        type="text"
        id="inputId"
        name="inputId"
        class="p-inputtext col-12"
        disabled
        [(ngModel)]="fornecedor.id"
      />
    </div>
    <div class="p-field col-5">
      <label for="inputNome">Nome: </label>
      <input
        pInputText
        type="text"
        id="inputNome"
        name="inputNome"
        class="p-inputtext col-12"
        [(ngModel)]="fornecedor.nome"
        required
      />
    </div>
    <div class="col-3">
      <label for="inputContato">Contato: </label>
      <input
        pInputText
        type="text"
        id="inputContato"
        name="inputContato"
        class="p-inputtext col-12"
        [(ngModel)]="fornecedor.contato"
      />
    </div>
    <div class="col-3">
      <label for="inputTelefone">Telefone: </label
      ><input
        pInputText
        id="inputTelefone"
        name="inputTelefone"
        type="tel"
        [(ngModel)]="fornecedor.telefone"
        class="p-inputtext col-12"
      />
    </div>
    <div class="col-2">
      <label for="inputEmail">Email: </label>
      <input
        pInputText
        type="email"
        id="inputEmail"
        name="inputEmail"
        required
        class="p-inputtext col-12"
        [(ngModel)]="fornecedor.email"
      />
    </div>

    <div class="col-4">
      <label for="inputEndereco">Endereco: </label
      ><input
        pInputText
        type="text"
        id="inputEndereco"
        name="inputEndereco"
        class="p-inputtext col-12"
        [(ngModel)]="fornecedor.endereco"
      />
    </div>
    <div class="col-2">
      <label for="inputMunicipio">Municipio: </label
      ><input
        pInputText
        type="text"
        id="inputMunicipio"
        name="inputMunicipio"
        class="p-inputtext col-12"
        [(ngModel)]="fornecedor.municipio"
      />
    </div>

    <div class="col-2">
      <label for="inputEstado">Estado: </label
      ><input
        pInputText
        type="text"
        id="inputEstado"
        name="inputEstado"
        class="p-inputtext col-12"
        [(ngModel)]="fornecedor.estado"
      />
    </div>

    <div class="col-2">
      <label for="inputCep">CEP: </label>
      <input
        pInputText
        type="text"
        id="inputCep"
        name="inputCep"
        class="p-inputtext col-12"
        [(ngModel)]="fornecedor.cep"
        pattern="\d{5}-?\d{3}"
        mask="99999-999"
      />
    </div>

    <div class="col-3">
      <label for="inputCnpjCpf">CNPJ / CPF: </label
      ><input
        type="text"
        id="inputCnpjCpf"
        name="inputCnpjCpf"
        pattern="([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})|([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})"
        [(ngModel)]="fornecedor.cnpj_cpf"
        class="p-inputtext col-12"
      />
    </div>

    <div class="col-3">
      <label for="inputIeRg">Inscricao estadual / RG: </label
      ><input
        type="number"
        id="inputIeRg"
        name="inputIeRg"
        [(ngModel)]="fornecedor.ie_rg"
        class="p-inputtext col-12"
      />
    </div>

    <div class="col-3">
      <label for="inputDCriacao">Data criação: </label
      ><input
        pInputText
        type="text"
        id="inputDCriacao"
        name="inputDCriacao"
        disabled
        class="p-inputtext col-12"
        value="{{ fornecedor.createdAt | date: 'dd/MM/yyyy HH:mm:ss' }}"
      />
    </div>

    <div class="col-3">
      <label for="inputDAlteracao">Última alteração: </label
      ><input
        pInputText
        type="text"
        id="inputDAlteracao"
        name="inputDAlteracao"
        disabled
        class="p-inputtext col-12"
        value="{{ fornecedor.updatedAt | date: 'dd/MM/yyyy HH:mm:ss' }}"
      />
    </div>

    <div class="col-12">
      <label for="inputDescricao" id="labelDescricao" class=""
        >Descricao: </label
      ><textarea
        pInputTextarea
        autoResize="autoResize"
        id="inputDescricao"
        name="inputDescricao"
        rows="3"
        class="p-inputtextarea p-inputtext col-12"
        [(ngModel)]="fornecedor.descricao"
      ></textarea>
    </div>
  </form>
  <hr />
  <button
    pButton
    name="btExcluir"
    id="btExcluir"
    class="p-button-danger"
    (click)="confirm()"
  >
    Excluir
  </button>
  <button
    pButton
    name="btSalvar"
    id="btSalvar"
    class="p-button-success"
    type="submit"
    form="form1"
  >
    Salvar
  </button>
  <button pButton name="btVoltar" id="btVoltar" routerLink="/fornecedores/">
    Voltar
  </button>
</div>

<p-confirmDialog #cd [style]="{ width: '50vw' }">
  <ng-template pTemplate="header">
    <h3>Confirmação</h3>
  </ng-template>
  <ng-template pTemplate="footer">
    <button
      type="button"
      pButton
      icon="pi pi-times"
      label="Não"
      (click)="cd.reject()"
    ></button>
    <button
      type="button"
      pButton
      icon="pi pi-check"
      label="Sim"
      (click)="cd.accept()"
    ></button>
  </ng-template>
</p-confirmDialog>
